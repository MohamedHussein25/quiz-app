<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Result</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body class="quiz-result">
  <div class="container">
    <div class="title-bar">
      <h1 class="blue-text">ğŸ‰ Well done, <%= result.username %>!</h1>
      <button id="darkToggle">ğŸŒ™ Dark Mode</button>
    </div>

    <p class="blue-text">Your score: <strong><%= result.score %> / <%= result.total %></strong></p>
    <p class="Used-time">ğŸ•’ Submitted at: <%= result.timestamp %></p>

    <% if (history && history.length > 0) { %>
      <h2 class="blue-text">ğŸ“Š Score History</h2>
      <ul class="score-history">
        <% history.slice(-5).reverse().forEach(h => { %>
          <li class="score-entry"><strong><%= h.timestamp %></strong> â€” <%= h.username %>: <%= h.score %> / <%= h.total %></li>
        <% }) %>
      </ul>
    <% } %>

    <div class="result-buttons">
      <a href="/" class="nextBtn">ğŸ” Retake Quiz</a>
      <a href="/" class="nextBtn">ğŸ“„ Exit</a>
    </div>
  </div>

  <script src="/script.js" defer></script>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      setupDarkMode();
    });
  </script>
</body>
</html>
